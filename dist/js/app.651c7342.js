(function(t){function a(a){for(var e,n,o=a[0],l=a[1],c=a[2],m=0,u=[];m<o.length;m++)n=o[m],i[n]&&u.push(i[n][0]),i[n]=0;for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(t[e]=l[e]);d&&d(a);while(u.length)u.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,a=0;a<r.length;a++){for(var s=r[a],e=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(e=!1)}e&&(r.splice(a--,1),t=n(n.s=s[0]))}return t}var e={},i={app:0},r=[];function n(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,a,s){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)n.d(s,e,function(a){return t[a]}.bind(null,e));return s},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var d=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,a,s){t.exports=s("56d7")},"034f":function(t,a,s){"use strict";s("64a9")},"0734":function(t,a,s){"use strict";s("10b1")},"0eaf":function(t,a,s){"use strict";s("f36d")},"0efd":function(t,a,s){"use strict";s("1f31")},"10b1":function(t,a,s){},1540:function(t,a,s){"use strict";s("6767")},1558:function(t,a,s){"use strict";s("2837")},"1f31":function(t,a,s){},"22d7":function(t,a,s){},2787:function(t,a,s){"use strict";s("cc33")},2837:function(t,a,s){},"2a2a":function(t,a,s){},3224:function(t,a,s){"use strict";s("c576")},"364c":function(t,a,s){},"49d3":function(t,a,s){},5436:function(t,a,s){"use strict";s("716f")},"56d7":function(t,a,s){"use strict";s.r(a);s("cadf"),s("551c"),s("f751"),s("097d");var e=s("2b0e"),i=s("8c4f"),r=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("router-view")},n=[],o={},l=o,c=(s("034f"),s("2877")),d=Object(c["a"])(l,r,n,!1,null,null,null),m=d.exports,u=s("2f62"),p=s("0e44");e["default"].use(u["a"]);var h=new u["a"].Store({state:{logOut:!1,loggedIn:"",user:"",role:"",stores:[],store:{},all_users:[],ammvr:{},midmvr:{},msal:null},mutations:{updateUser:function(t,a){t.user=a},updateAllUsers:function(t,a){t.all_users=a},updateRole:function(t,a){t.role=a},updateLogin:function(t,a){t.loggedIn=a},updateLog:function(t,a){t.logOut=a},updateStores:function(t,a){t.stores=a},setStore:function(t,a){t.store=a},updateAmmvr:function(t,a){t.ammvr=a},updateMidmvr:function(t,a){t.midmvr=a},updateMsal:function(t,a){t.msal=a}},actions:{user:function(t,a){var s=t.commit;s("updateUser",a)},all_users:function(t,a){var s=t.commit;s("updateAllUsers",a)},role:function(t,a){var s=t.commit;s("updateRole",a)},loggedIn:function(t,a){var s=t.commit;s("updateLogin",a)},stores:function(t){var a=t.commit,s={what:"stores"};return new Promise((function(t,i){console.log("In store"),e["default"].prototype.$socket.makeGetRequest(s).then((function(s){a("updateStores",s.data),t(s.data)})).catch((function(t){console.log(t),i(t)}))}))},setStore:function(t,a){var s=t.commit;s("setStore",a)},updateAmmvr:function(t,a){var s=t.commit;try{s("updateAmmvr",a)}catch(e){console.log("The Maximum image upload size allowed is 50mb")}},updateMidmvr:function(t,a){var s=t.commit;try{s("updateMidmvr",a)}catch(e){console.log("The Maximum image upload size allowed is 50mb")}},msalToken:function(t,a){var s=t.commit;s("updateMsal",a)},logout:function(t,a){var s=t.commit;s("updateLog",a)}},getters:{isLoggedIn:function(t){return t.loggedIn},stores:function(t){return t.stores},store:function(t){return t.store},ammvr:function(t){return t.ammvr},midmvr:function(t){return t.midmvr},logout:function(t){return t.logOut},user:function(t){return t.user},role:function(t){return t.role},all_users:function(t){return t.all_users},msalToken:function(t){return t.msal}},plugins:[Object(p["a"])()]}),v=s("3d20"),f=s.n(v),g=(s("ac6a"),s("456d"),s("bc3a")),C=s.n(g),k="https://qaqc-back.marketsquareng.website/api/",y={name:"Request",makeGetRequest:function(t){e["default"].prototype.$swal.close();var a={stores:k+"allstores?store_code=MKS"},s=a[t.what];return console.log("%cSending get request to: %c"+s,"color:#00ff00;font-size:14px;background:#000;","color:#ff0000;font-size:14px;background:#000;"),new Promise((function(a,i){C.a.get(s).then((function(s){if(e["default"].prototype.$swal.close(),"True"==s.data.status||1==s.data.status||"true"==s.data.status){s={data:s.data.data,type:t.what,status:"true",url:k};a(s)}else i(s.data)})).catch((function(t){i(t)}))}))},makePostRequest:function(t){if(e["default"].prototype.$swal.close(),t.showLoader||void 0==t.showLoader){var a='<div style="height:200px;width:200px;margin: 0 auto;"><img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/></div>';e["default"].prototype.$swal.fire({title:"",html:a,showConfirmButton:!1,showCancelButton:!1})}var s={submitForm:"sectionforms"};if(void 0!==t.params)var i=t.params,r=Object.keys(i).map((function(t){return t+"="+i[t]})).join("&"),n=k+s[t.what]+"?"+r;else n=k+s[t.what];if(void 0==t.url)n=k+s[t.what];else n=t.url;if(void 0!==t.headers)var o={headers:t.headers};else o={};var l=void 0!==t.data?t.data:"";return console.log("%cSending post request to: "+n,"color:#00ff00;font-size:14px;background:#000;"),console.log(l),new Promise((function(a,s){C.a.post(n,l,o).then((function(i){e["default"].prototype.$swal.close(),"True"==i.data.status||1==i.data.status||"true"==i.data.status?(i={data:i.data,type:t.what,status:"true",url:k},a(i)):s(i)})).catch((function(t){e["default"].prototype.$swal.close(),s(t)}))}))},makeDeleteRequest:function(t){var a=t.what,s={opening:"openings"};if(void 0!==t.id)var e=k+s[a]+"/"+t.id;return console.log("%cDeleting: "+e,"color:#00ff00;font-size:14px;background:#000;"),new Promise((function(t,s){C.a.delete(e).then((function(e){"True"==e.data.status||1==e.data.status||"true"==e.data.status||1==e.data.success?(e={type:a,status:"true",url:k},t(e)):s("Error")})).catch((function(t){s(t)}))}))}},b=(s("4989"),s("1157"),s("ab8b"),function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"wrapper",class:{"nav-open":t.$sidebar.showSidebar}},[s("side-bar",[s("sidebar-link",{attrs:{to:"/audit/home"}},[s("md-icon",[t._v("dashboard")]),s("p",[t._v("Home")])],1),s("sidebar-link",{attrs:{to:"/audit/exterior"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Store Exterior")])],1),s("sidebar-link",{attrs:{to:"/audit/merchandise"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Merchandise")])],1),s("sidebar-link",{attrs:{to:"/audit/production"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Production")])],1),s("sidebar-link",{attrs:{to:"/audit/checkout"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Checkout")])],1),s("sidebar-link",{attrs:{to:"/audit/instore_displays"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("In-store Displays")])],1),s("sidebar-link",{attrs:{to:"/audit/warehouse"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Warehouse")])],1),s("sidebar-link",{attrs:{to:"/audit/staff"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Staff")])],1),s("sidebar-link",{attrs:{to:"/audit/opportunities"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Opportunities")])],1),s("sidebar-link",{attrs:{to:"/audit/competition"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Competition")])],1),s("sidebar-link",{attrs:{to:"/audit/general"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("General")])],1),s("sidebar-link",{attrs:{to:"/audit/loss_prevention"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Loss Prevention")])],1),s("sidebar-link",{attrs:{to:"/audit/store_opening"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Store Opening")])],1),s("sidebar-link",{attrs:{to:"/audit/store_closing"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Store Closing")])],1),s("sidebar-link",{attrs:{to:"/audit/night_time"}},[s("md-icon",[t._v("library_books")]),s("p",[t._v("Night Time Visitation")])],1),s("sidebar-link",{staticStyle:{"margin-bottom":"50px","margin-left":"18px"},attrs:{to:"/"}},[s("span",{staticStyle:{height:"25px"},on:{click:t.logOut}},[s("md-icon",[t._v("power_settings_new")]),s("p",[t._v("Log Out")])],1)])],1),s("div",{staticClass:"main-panel"},[s("top-navbar"),s("dashboard-content"),t.$route.meta.hideFooter?t._e():s("content-footer")],1)],1)}),_=[],x=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[s("div",{staticClass:"md-toolbar-row"},[s("div",{staticClass:"md-toolbar-section-start"},[s("h3",{staticClass:"md-title"},[t._v("\n        Management Visitation Checklist\n      ")])]),s("div",{staticClass:"md-toolbar-section-end"},[s("md-button",{staticClass:"md-just-icon md-simple md-toolbar-toggle",class:{toggled:t.$sidebar.showSidebar},on:{click:t.toggleSidebar}},[s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"})])],1)])])},w=[],S={data:function(){return{}},methods:{toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)}}},A=S,E=Object(c["a"])(A,x,w,!1,null,null,null),T=E.exports,q=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("footer",{staticClass:"footer"},[s("div",{staticClass:"container"},[s("div",{staticClass:"copyright text-center"},[t._v("\n      Â© "+t._s((new Date).getFullYear())+"\n      Waje Smart Solutions.\n    ")])])])},M=[],I={},N=I,P=Object(c["a"])(N,q,M,!1,null,null,null),$=P.exports,j=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)},B=[],F={},O=F,D=(s("5436"),Object(c["a"])(O,j,B,!1,null,null,null)),G=D.exports,R=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",{staticClass:"nav nav-mobile-menu"},[s("li",[s("md-field",[s("label",[t._v("Search")]),s("md-input",{attrs:{type:"text"},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1),t._m(0),s("li",[s("drop-down",[s("a",{staticClass:"dropdown-toggle",attrs:{slot:"title","data-toggle":"dropdown"},slot:"title"},[s("i",{staticClass:"material-icons"},[t._v("notifications")]),s("span",{staticClass:"notification"},[t._v("5")]),s("p",[t._v("Notifications")])]),s("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[s("li",[s("a",{attrs:{href:"#"}},[t._v("Mike John responded to your email")])]),s("li",[s("a",{attrs:{href:"#"}},[t._v("You have 5 new tasks")])]),s("li",[s("a",{attrs:{href:"#"}},[t._v("You're now friend with Andrew")])]),s("li",[s("a",{attrs:{href:"#"}},[t._v("Another Notification")])]),s("li",[s("a",{attrs:{href:"#"}},[t._v("Another One")])])])])],1),t._m(1)])},L=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",[s("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[s("i",{staticClass:"material-icons"},[t._v("dashboard")]),s("p",[t._v("Dashboard")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",[s("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[s("i",{staticClass:"material-icons"},[t._v("person")]),s("p",[t._v("Profile")])])])}],U={data:function(){return{search:null,selectedEmployee:null,employees:["Jim Halpert","Dwight Schrute","Michael Scott","Pam Beesly","Angela Martin","Kelly Kapoor","Ryan Howard","Kevin Malone"]}}},z=U,H=Object(c["a"])(z,R,L,!1,null,null,null),J=H.exports,W={components:{TopNavbar:T,DashboardContent:G,ContentFooter:$,MobileMenu:J},data:function(){return{role:""}},mounted:function(){this.role=this.$store.getters.role},methods:{logOut:function(){this.$store.dispatch("logout",!0),this.$router.push("index")}}},Y=W,Q=Object(c["a"])(Y,b,_,!1,null,null,null),X=Q.exports,K=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t._m(0),s("div",{staticClass:"body"},[s("div",{staticClass:"row",attrs:{id:"admin"}},[s("div",{staticClass:"col-12 my-auto"},[s("div",{staticClass:"masthead-content text-white py-5 py-md-0"},[s("h1",{staticClass:"mb-3"},[t._v("For Admin")]),s("br"),s("br"),s("a",{on:{click:function(a){return t.signIn("admin")}}},[s("button",{staticClass:"text-uppercase btn btn-light text-warning p-2",staticStyle:{"z-index":"1"},attrs:{type:"button",title:"Sign in to view reports"}},[t._v("\n              Sign In\n            ")])])])])]),s("div",{staticClass:"overlay"}),s("div",{staticClass:"masthead"},[s("div",{staticClass:"masthead-bg"}),s("div",{staticClass:"container h-100"},[s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col-12 my-auto"},[s("div",{staticClass:"masthead-content text-warning py-5 py-md-0"},[s("h1",{staticClass:"mb-3"},[t._v("For Inspectors")]),s("br"),s("br"),s("a",{on:{click:function(a){return t.signIn("auditor")}}},[s("button",{staticClass:"text-uppercase btn btn-warning text-white p-2",attrs:{type:"button",title:"Sign in with work account to fill forms"}},[t._v("\n                  Sign In\n                ")])])])])])])])])])},V=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"title"},[s("h1",[s("span",[t._v("SUNDRYMARKETS Â ")]),t._v(" QA/QC REPORTS")])])}],Z=(s("7f7f"),s("6762"),s("2fdb"),s("96cf"),s("1da1")),tt={beforeCreate:function(){document.body.className="home"},data:function(){return{remember:"",login:{email:"",password:""},status:{status:"",message:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40",postLogoutRedirectUri:"https://qaqc.marketsquareng.website/"}},graphConfig:{graphMeEndpoint:"https://graph.microsoft.com/v1.0/me/memberOf"},requestObj:{scopes:["group.readWrite.all"]}}},created:function(){var t=document.createElement("script");t.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.4/bluebird.min.js"),document.head.appendChild(t);var a=document.createElement("script");a.setAttribute("src","https://secure.aadcdn.microsoftonline-p.com/lib/1.0.0/js/msal.js"),document.head.appendChild(a)},mounted:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.myMSALObj.handleRedirectCallback(this.authRedirectCallBack),1==this.$store.getters.logout&&this.signOut()},methods:{signIn:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s,e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>',this.$swal.fire({title:"Processing",html:s,showConfirmButton:!1,showCancelButton:!1,width:"300px",allowOutsideClick:!1}),t.prev=2,t.next=5,this.myMSALObj.loginPopup(this.requestObj);case 5:e=t.sent,console.log(e),this.acquireTokenPopupAndCallMSGraph(),"admin"==a&&(window.location="https://qaqc-admin.marketsquareng.website"),t.next=18;break;case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0),this.$swal.close(),i="<p>"+t.t0.message+"</p> ",t.t0.message.includes("pop")&&(i+="<p>Allow Pop Ups for this domain at the top right of the url bar in your browser and then refresh this page</p>"),this.$swal.fire({title:"Opps !",html:i,showConfirmButton:!1,showCancelButton:!1,width:"300px",allowOutsideClick:!1});case 18:case"end":return t.stop()}}),t,this,[[2,11]])})));function a(a){return t.apply(this,arguments)}return a}(),signOut:function(){this.$store.dispatch("loggedIn",!1),this.$store.dispatch("logout",!1),this.myMSALObj.logout(),this.$router.push("index")},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.myMSALObj.acquireTokenSilent(this.requestObj);case 3:a=t.sent,this.tokenResponse=a,this.$store.dispatch("msalToken",a),this.callMSGraph(this.graphConfig.graphMeEndpoint,a.accessToken,this.graphAPICallback),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function a(){return t.apply(this,arguments)}return a}(),callMSGraph:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},graphAPICallback:function(t){var a,s=this;console.log(t),t.value.forEach((function(t){"auditors"==t.displayName&&(s.$store.dispatch("user",s.myMSALObj.getAccount().name),s.$store.dispatch("role",t.displayName),s.$store.dispatch("loggedIn",!0),a=!0),!0===a?(s.$swal.fire("Success","Welcome "+s.myMSALObj.getAccount().name,"success"),window.location.href="/audit/home"):s.$swal.fire({title:"Error",text:"User Access Denied. Contact your Admin to grant you access.",showCloseButton:!0,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-down"></i> Sign Out',width:"300px",allowOutsideClick:!1}).then((function(){s.$store.dispatch("logout",!0),s.signOut()}))})),0==t.value.length&&this.$swal.fire({title:"Error",text:"User Access Denied. Contact your Admin to grant you access.",showCloseButton:!0,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-down"></i> Sign Out',width:"300px",allowOutsideClick:!1}).then((function(){s.$store.dispatch("logout",!0),s.signOut()}))},showWelcomeMessage:function(){this.$swal.fire("Success","Welcome "+this.myMSALObj.getAccount().userName+" to QA/QC Audit","success")},authRedirectCallBack:function(t,a){t?console.log(t):"access_token"===a.tokenType&&this.callMSGraph(this.graphConfig.graphMeEndpoint,a.accessToken,this.graphAPICallback)},requiresInteraction:function(t){return!(!t||!t.length)&&("consent_required"===t||"interaction_required"===t||"login_required"===t)}}},at=tt,st=(s("8041"),s("65da"),Object(c["a"])(at,K,V,!1,null,"a2916302",null)),et=st.exports,it=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"info md-layout-item md-size-100"},[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://image.freepik.com/free-vector/welcome-lettering-yellow-origami-speech-bubble-with-triangles_1262-11380.jpg",alt:""}}),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.getStarted}},[t._v("\n          Get Started\n        ")])])])])])},rt=[],nt=(s("a481"),{beforeCreate:function(){document.body.className.replace("home","")},data:function(){return{role:""}},methods:{getStarted:function(){this.$router.push({path:"exterior"})}}}),ot=nt,lt=Object(c["a"])(ot,it,rt,!1,null,null,null),ct=lt.exports,dt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Store Exterior")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all signages clean and in good working conditions?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are customers entrance and exit door in good working\n                    condition with safety signs on them?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are the floor tiles properly cleaned and in good\n                    condition?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is the store lightings fully functional?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is waste stored in appropriate waste or recycling storage\n                    areas?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is the property kept clear of litter, organic waste,\n                    hazardous materials, etc?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is the car park area cleaned and controlled?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are parking lots clearly marked and delineated?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are parking signage and direction present and clean?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio9",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio9",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio9",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio9",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio9",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is the store overall impression neat and clean?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio10",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio10",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio10",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio10",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio10",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are the electrical panels and distribution boxes\n                    closed/secured from external access?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio11",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio11",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio11",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio11",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio11",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there any unplanned organic growths (e.g.algae etc) in\n                    the premises - check corners?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio12",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio12",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio12",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio12",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio12",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there any electrical cables or switches exposed and\n                    presenting a clear and present danger to the public?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio13",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio13",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio13",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio13",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio13",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there areas of the building exterior that require\n                    maintenance?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio14",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio14",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio14",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio14",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio14",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are the back areas free from liter and kept clean and free\n                    of smells?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio15",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio15",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio15",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio15",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio15",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are security personel stationed at their respective beats?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio16",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio16",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio16",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio16",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio16",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are mopol personel stationed at their post?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio17",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio17",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio17",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio17",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio17",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},mt=[],ut=(s("ac4d"),s("8a81"),s("5df3"),s("1c4c"),s("6b54"),s("4a7a")),pt=s.n(ut);s("6dfc");function ht(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=vt(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function vt(t,a){if(t){if("string"===typeof t)return ft(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ft(t,a):void 0}}function ft(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var gt={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],managers:[],store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Store Exterior",section_type:"SE",scoring_type:"scoring",total_point:"",total_percent:"",question_answer:[],taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)}))},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){var t=this;this.stores.forEach((function(a){a.id==t.form.store_id&&t.$store.dispatch("setStore",a)})),this.checkForm(),this.$router.push({path:"merchandise"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=ht(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=ht(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){console.log(a),t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){})),t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){console.log(a.data),t.stores=a.data})).catch((function(t){console.log(t)}))}}},Ct=gt,kt=(s("5f0b"),Object(c["a"])(Ct,dt,mt,!1,null,"7c5d9867",null)),yt=kt.exports,bt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Merchandise")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are the department managers on the shop floor and actively\n                    managing the depts?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all key aisles fully manned by merchandisers that are\n                    well trained to service shoppers?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all products on display well packed and not damaged?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are merchandise displayed based on categories?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Sales floor layout and positioning are compliant with\n                    current company planograms and branding standards.\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are the shelves fully stocked i.e. there are no product\n                    holes?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all products fronted correctly?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all products on display correctly priced?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is the merchandise display clean visually pleasing?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio9",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio9",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio9",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio9",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio9",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all top selling stocks available ?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio10",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio10",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio10",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio10",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio10",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are products on promotion well displayed and well tagged?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio11",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio11",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio11",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio11",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio11",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are correct products cross-merchandised with primary stock\n                    to increase basket size.?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio12",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio12",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio12",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio12",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio12",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("All Aisles are free from debris?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio13",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio13",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio13",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio13",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio13",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all merchandise placed on a shelf or on a pallet? i.e.\n                    no merchandise is placed on the floor?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio14",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio14",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio14",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio14",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio14",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Check that floor/bulk displays do not block aisles or\n                    customer movement. No tripping hazards.?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio15",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio15",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio15",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio15",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio15",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Do staff have a good view of the store at all times from\n                    their stations?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio16",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio16",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio16",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio16",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio16",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Have potential blind spots identified and managed?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio17",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio17",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio17",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio17",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio17",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are key sales floor areas are merchandised with new\n                    products and high margin SKUs?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio18",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio18",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio18",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio18",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio18",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are key sales floor displays changed at least monthly?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio19",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio19",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio19",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio19",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio19",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},_t=[];function xt(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=wt(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function wt(t,a){if(t){if("string"===typeof t)return St(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?St(t,a):void 0}}function St(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var At={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",store_manager:"",o365_users:[],managers:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Merchandise",section_type:"ME",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"production"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=xt(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=xt(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Et=At,Tt=(s("f6e1"),Object(c["a"])(Et,bt,_t,!1,null,"47cde398",null)),qt=Tt.exports,Mt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Production")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are the ceilings in the kitchen clean?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are areas around the production area free from waste\n                    litter?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all production staff properly dressed in their PPE\n                    (hats, appron, covered shoes)?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is the unit properly stocked and merchandised?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all refrigerators functioning properly at the\n                    appropriate temperature?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Do managers have thermometers handy?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all food displayed at the correct temperature (use\n                    thermometer to check)?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Observe whether production crew are following recipes and\n                    formulars to the letter?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are production crew using equipment and machinery\n                    properly?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio9",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio9",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio9",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio9",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio9",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},It=[];function Nt(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=Pt(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function Pt(t,a){if(t){if("string"===typeof t)return $t(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?$t(t,a):void 0}}function $t(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var jt={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",managers:[],store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Production",section_type:"PR",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"checkout"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=Nt(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=Nt(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Bt=jt,Ft=(s("f511"),Object(c["a"])(Bt,Mt,It,!1,null,"532f2e5f",null)),Ot=Ft.exports,Dt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Checkout")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are counters clean and free of liter/debris?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all counters manned?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Do cashiers appear properly trained to handle the task?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Do all cashiers have functional POS terminals for payment\n                    collection?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are cashier activities being actively supervised by a\n                    manager/supervisor/security?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are the queues manageable?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are customers serviced within 3 minutes? (Confirm\n                    queue/checkout time per customer)\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},Gt=[];function Rt(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=Lt(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function Lt(t,a){if(t){if("string"===typeof t)return Ut(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ut(t,a):void 0}}function Ut(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var zt={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",managers:[],store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Checkout",section_type:"CH",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"instore_displays"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=Rt(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=Rt(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Ht=zt,Jt=(s("3224"),Object(c["a"])(Ht,Dt,Gt,!1,null,"5a332989",null)),Wt=Jt.exports,Yt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("In-Store Displays")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name"},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Do all bulk displays have signage including a call to\n                    action?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Confirm that displays are not over or understocked and\n                    allow customers to interact with products\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Speed bump displays are utilized strategically and feature\n                    new/seasonal/high margin SKUs\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Promotions are current and consistent with company\n                    directives\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Slow-moving SKUs are paired with better performing SKUs\n                    (where applicable)\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all displays in âlike newâ condition?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Special bins or baskets are clearly signed with pricing\n                    and positioned in hot spot zones\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Products are properly and correctly priced")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},Qt=[];function Xt(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=Kt(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function Kt(t,a){if(t){if("string"===typeof t)return Vt(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Vt(t,a):void 0}}function Vt(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var Zt={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",store_manager:"",managers:[],things_the_Store_did_well:"",things_the_Store_needs_to_improve_on:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"In-store Displays",section_type:"INS",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"warehouse"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=Xt(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=Xt(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},ta=Zt,aa=(s("59d1"),Object(c["a"])(ta,Yt,Qt,!1,null,"1eb0a695",null)),sa=aa.exports,ea=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Warehouse")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is warehouse storage properly categorised?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are hazardous products adequately stored and labeled?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are the drinks and drink cage secure?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is access to the warehouse limited (particularly from the\n                    outside)?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is receiving manager receiving in company of audit and\n                    security per policy?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is receiving manager checking each individual item for\n                    conformity with LPO and for expiration date?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are cartons marked with date of receipt and name of\n                    receiver?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Do you see any control risks with the warehouse\n                    operations?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is receiving area free from debris and loose merchandise?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio9",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio9",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio9",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio9",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio9",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is temperature of the warehouse within acceptable limits\n                    (for the benefit of the merchandise stored therein)?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio10",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio10",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio10",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio10",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio10",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},ia=[];function ra(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=na(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function na(t,a){if(t){if("string"===typeof t)return oa(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?oa(t,a):void 0}}function oa(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var la={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],managers:[],store:"",store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Warehouse",section_type:"WA",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"staff"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=ra(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=ra(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.possible_points=e,this.form.total_percent=a/e*100;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},ca=la,da=(s("cd0d"),Object(c["a"])(ca,ea,ia,!1,null,"471b7516",null)),ma=da.exports,ua=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Staff")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Do all staff clock in/out at start/close of business?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there enough staff on schedule to assist customers per\n                    shift?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is management schedule followed strictly?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all staff and management in correct uniform with a\n                    name tags?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all staff looking good with the appropriate dressing,\n                    grooming and hair standards?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is the checkout manned by enough cashiers and a manager?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Do staff have good customer service and selling skills?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all staff friendly and welcoming to customers?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},pa=[];function ha(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=va(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function va(t,a){if(t){if("string"===typeof t)return fa(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?fa(t,a):void 0}}function fa(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var ga={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],managers:[],store:"",store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Staff",section_type:"ST",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"opportunities"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=ha(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=ha(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Ca=ga,ka=(s("1558"),Object(c["a"])(Ca,ua,pa,!1,null,"73680672",null)),ya=ka.exports,ba=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Opportunities")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there categories we can improve range and stocking\n                  ")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"4","data-name":"Are there categories we can improve range and stocking"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question1",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question1",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there new product lines that can be introduced to\n                    store\n                  ")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"5","data-name":"Are there new product lines that can be introduced to store"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question2",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question2",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there events we can do to increase footfall to the\n                    store\n                  ")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"6","data-name":"Are there events we can do to increase footfall to the store"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question3",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question3",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is there a room for another store in the city\n                  ")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"7","data-name":"Is there a room for another store in the city"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question4",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question4",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is there room for a differentiated offering in the market\n                  ")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"8","data-name":"Is there room for a differentiated offering in the market"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question5",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question5",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there any other opportunities for improved sales at\n                    this store?\n                  ")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"9","data-name":"Are there any other opportunities for improved sales at this store"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question6",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question6",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},_a=[];function xa(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=wa(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function wa(t,a){if(t){if("string"===typeof t)return Sa(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Sa(t,a):void 0}}function Sa(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var Aa={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",store_manager:"",o365_users:[],managers:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Opportunities",section_type:"OP",scoring_type:"non-scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"competition"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=xa(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=xa(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=[];this.form.total_point=0,this.form.total_percent=0;var s=[];document.querySelectorAll(".question").forEach((function(t){var a,e=t.id,i=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,s.push({questionno:e,questiontext:i,answer:a})}));document.querySelectorAll(".yes_no").forEach((function(t){var a,e=t.id,i=t.dataset.name.replace(/\n/g," ");t.querySelectorAll("label").forEach((function(t){t.childNodes[1].checked&&(a=t.childNodes[1].value)})),s.push({questionno:e,questiontext:i,answer:a})})),this.form.question=s,document.querySelectorAll("[data-name='assignedTo']").forEach((function(s,e){var i,r,n,o,l=e;s.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==s.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),a.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=a;var e=0;for(e=0;e<a.length;e++){var i=a[e];if(""==i.task||""==i.due_date||""==i.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}a.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Ea=Aa,Ta=(s("0734"),Object(c["a"])(Ea,ba,_a,!1,null,"ac778836",null)),qa=Ta.exports,Ma=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Competition")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are there any competitor prices of note?")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"4","data-name":"Are there any competitor prices of note?"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"radio",name:"question1",value:"YES"},domProps:{checked:t._q(t.checked,"YES")},on:{change:function(a){t.checked="YES"}}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"radio",name:"question1",value:"NO"},domProps:{checked:t._q(t.checked,"NO")},on:{change:function(a){t.checked="NO"}}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Any activation in competing stores")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"5","data-name":"Any activation in competing stores"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question2",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question2",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there any new competitors or competitor activities in\n                    the area?\n                  ")]),s("div",{staticClass:"form-check-inline yes_no",attrs:{id:"6","data-name":"Are there any new competitors or competitor activities in the area?"}},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("YES")]),s("input",{attrs:{type:"radio",name:"question3",value:"YES"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("NO")]),s("input",{attrs:{type:"radio",name:"question3",value:"NO"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},Ia=[];function Na(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=Pa(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function Pa(t,a){if(t){if("string"===typeof t)return $a(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?$a(t,a):void 0}}function $a(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var ja={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],managers:[],store:"",store_manager:"",checked:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Competition",section_type:"CO",scoring_type:"non-scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"general"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=Na(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=Na(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=[];this.form.total_point=0,this.form.total_percent=0;var s=[];document.querySelectorAll(".question").forEach((function(t){var a,e=t.id,i=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,s.push({questionno:e,questiontext:i,answer:a})}));this.form.question=s,document.querySelectorAll(".yes_no").forEach((function(t){var a,e=t.id,i=t.dataset.name.replace(/\n/g," ");t.querySelectorAll("label").forEach((function(t){t.childNodes[1].checked&&(a=t.childNodes[1].value)})),s.push({questionno:e,questiontext:i,answer:a})})),this.form.question=s,document.querySelectorAll("[data-name='assignedTo']").forEach((function(s,e){var i,r,n,o,l=e;s.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==s.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),a.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=a;var e=0;for(e=0;e<a.length;e++){var i=a[e];if(""==i.task||""==i.due_date||""==i.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}a.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Ba=ja,Fa=(s("83fa"),Object(c["a"])(Ba,Ma,Ia,!1,null,"e2061072",null)),Oa=Fa.exports,Da=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("General")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Store lighting is adequate and per brand standards")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Store temperature is adequate")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Music is at an appropriate level")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Refrigeration systems are clean and functioning at the\n                    appropriate temperature\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Generator is in good and serviceable condition")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    There are no rat droppings in the entire environment\n                    (particular attention to the production and storage areas\n                    that are hard to reach)\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    All fixtures, floors, walls, windows, and surfaces are\n                    clean and well maintained\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are staff and customer conveniences in clean and good\n                    functioning condition?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are there hourly routine checks on the toilet facilities?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio9",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio9",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio9",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio9",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio9",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},Ga=[];function Ra(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=La(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function La(t,a){if(t){if("string"===typeof t)return Ua(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ua(t,a):void 0}}function Ua(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var za={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",managers:[],store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"General",section_type:"GE",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"loss_prevention"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=Ra(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=Ra(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Ha=za,Ja=(s("2787"),Object(c["a"])(Ha,Da,Ga,!1,null,"065ac56e",null)),Wa=Ja.exports,Ya=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Loss Prevention")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Does location have a functioning alarm system? Test same\n                    yourself please\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is alarm code known to others apart from opening\n                    manager(s)?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Does location have a key control log for all store keys?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are CCTV operators on time, manning their station,\n                    vigilant and well behaved?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all cameras functional?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Does the delivery area have a functional camera?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are high theft items secured and properly policed?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Does location conduct regular stock counts? Are results\n                    satisfactory?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are damaged/defective inventory kept secure and orderly?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are staff restricted from performing self or family\n                    purchases?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio9",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio9",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio9",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio9",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio9",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Who performs high risk actions on the POS e.g. refunds etc\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio10",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio10",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio10",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio10",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio10",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all critical areas manned by security personel?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio11",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio11",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio11",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio11",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio11",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is there a competent security supervisor on ground?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio12",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio12",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio12",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio12",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio12",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},Qa=[];function Xa(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=Ka(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function Ka(t,a){if(t){if("string"===typeof t)return Va(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Va(t,a):void 0}}function Va(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var Za={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",store_manager:"",managers:[],o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Loss Prevention",section_type:"LO",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"store_opening"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=Xa(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=Xa(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},ts=Za,as=(s("1540"),Object(c["a"])(ts,Ya,Qa,!1,null,"3fb22102",null)),ss=as.exports,es=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Store Opening")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is opening manager on time?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Did manager do an exterior walkaround in company of\n                    security?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Did manager do an interior walkaround in company of\n                    security?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are all key staff on time?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are staff/managers allowed to bring in bags to the\n                    shopfloor?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Did production and cleaning start on time?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is menu on display at the time of opening to customers?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio7",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio7",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio7",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio7",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio7",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is store clean at the time of opening the shop to\n                    customers?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio8",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio8",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio8",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio8",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio8",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are security at their respective beats at the time of\n                    opening the shop to customers?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio9",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio9",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio9",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio9",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio9",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are all crew at their respective stations at the time of\n                    opening the shop to customers?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio10",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio10",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio10",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio10",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio10",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is merchandise display in good enough condition at the\n                    time of opening the shop to customers?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio11",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio11",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio11",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio11",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio11",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},is=[];function rs(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=ns(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function ns(t,a){if(t){if("string"===typeof t)return os(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?os(t,a):void 0}}function os(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var ls={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],managers:[],store:"",store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Store Opening",section_type:"SO",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"store_closing"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=rs(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=rs(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},cs=ls,ds=(s("e493"),Object(c["a"])(cs,es,is,!1,null,"647ebed0",null)),ms=ds.exports,us=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Store Closing")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Did manager commence search of building interior ahead of\n                    closing time?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is checkout manager actively managing the checkout close\n                    out process?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Did store manager close the store doors at the appointed\n                    closing time?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are staff made to exit the building at the same time?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are staff being properly searched on exit?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")]),s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ml-3",staticStyle:{"margin-bottom":"10px"},on:{click:t.saveContinue}},[t._v("\n                  Save & Continue\n                ")])])],1)])])],1)],1)])])},ps=[];function hs(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=vs(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function vs(t,a){if(t){if("string"===typeof t)return fs(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?fs(t,a):void 0}}function fs(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var gs={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],managers:[],store:"",store_manager:"",o365_users:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],form:{section_name:"Store Closing",section_type:"SC",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{saveContinue:function(){this.checkForm(),this.$router.push({path:"night_time"})},checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=hs(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=hs(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Cs=gs,ks=(s("0eaf"),Object(c["a"])(Cs,us,ps,!1,null,"f2f56b06",null)),ys=ks.exports,bs=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-size-100"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":"orange"}},[s("h4",{staticClass:"title"},[t._v("Night Time Visitation")])]),s("md-card-content",[s("form",{attrs:{id:"",role:"form"},on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"card-content",attrs:{id:"form-fields"}},[s("div",{staticClass:"form-group row question",attrs:{id:"1","data-name":"Auditor's Name"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Inspector's Name")]),s("div",{staticClass:"col-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"staticEmail",title:"Inspector's name",required:""},domProps:{value:t.username},on:{input:function(a){a.target.composing||(t.username=a.target.value)}}})])]),s("div",{staticClass:"form-group row question loc",attrs:{id:"2","data-name":"Store"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Store")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_id,expression:"store_id"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Store",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_id=a.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",hidden:"",value:""}},[t._v("select store...")]),t._l(t.stores,(function(a,e){return s("option",{key:e,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2)])]),s("div",{staticClass:"form-group row question",attrs:{id:"3","data-name":"Manager(s) on Duty"}},[s("label",{staticClass:"col-3 col-form-label",attrs:{for:"inputPassword"}},[t._v("Branch Manager on Duty")]),s("div",{staticClass:"col-9"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.store_manager,expression:"store_manager"}],staticClass:"form-control",attrs:{id:"manager",title:"Select Manager",required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.store_manager=a.target.multiple?s:s[0]}}},[0==t.managers.length&&""!=t.store_id&&""==t.store_manager?s("option",{attrs:{hidden:"",selected:"",value:""}},[t._v("No available Managers for the selected store")]):s("option",{attrs:{hidden:"",value:""}},[t._v("select manager...")]),t._l(t.managers,(function(a,e){return s("option",{key:e,domProps:{value:a.name}},[t._v(t._s(a.name))])}))],2)])]),s("br"),s("div",[s("h5",{staticClass:"subtitle"},[s("u",[t._v("Scoring")])]),s("ol",{staticClass:"d-flex justify-content-between"},[s("li",[t._v("Unacceptable")]),s("li",[t._v("Fair")]),s("li",[t._v("Satisfactory")]),s("li",[t._v("Good")]),s("li",[t._v("Exceeds expectations")])])]),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is the building exterior properly lit? Check that all\n                    flood lights are functioning at full capacity\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio1",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio1",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio1",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio1",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio1",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Is store properly lit internally?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio2",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio2",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio2",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio2",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio2",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are the signages all functional?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio3",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio3",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio3",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio3",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio3",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("Are there any beggars and miscreants on the premises?")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio4",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio4",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio4",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio4",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio4",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Are the security personel / mopol active at their\n                    respective beats?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio5",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio5",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio5",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio5",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio5",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("md-card",{staticClass:"md-raised"},[s("md-card-content",[s("p",[t._v("\n                    Is staff entrance door locked/secure and staff are not\n                    allowed unfettered exit to the building around this\n                    period?\n                  ")]),s("div",{staticClass:"form-check-inline"},[s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("1")]),s("input",{attrs:{type:"radio",name:"radio6",value:"1"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("2")]),s("input",{attrs:{type:"radio",name:"radio6",value:"2"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("3")]),s("input",{attrs:{type:"radio",name:"radio6",value:"3"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("4")]),s("input",{attrs:{type:"radio",name:"radio6",value:"4"}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"customradio"},[s("span",{staticClass:"radiotextsty"},[t._v("5")]),s("input",{attrs:{type:"radio",name:"radio6",value:"5"}}),s("span",{staticClass:"checkmark"})])])])],1),s("h5",{staticClass:"subtitle"},[t._v("Comments")]),s("div",{staticClass:"form-group row question",attrs:{id:"4","data-name":"5 things the Store did well"}},[s("label",{staticClass:"col-5 col-form-label",attrs:{for:"staticEmail"}},[t._v("Top 5 things the store did well: ")]),s("br"),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.well,expression:"well"}],staticStyle:{"margin-left":"13px"},attrs:{rows:"5",cols:"138",type:"text"},domProps:{value:t.well},on:{input:function(a){a.target.composing||(t.well=a.target.value)}}})]),s("div",{staticClass:"form-group row question",attrs:{id:"5","data-name":"5 things the Store needs to improve on"}},[s("label",{staticClass:" col-5 form-label",attrs:{for:""}},[t._v("Top 5 things the store needs to improve on: ")]),s("br"),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.improve,expression:"improve"}],staticStyle:{"margin-left":"13px"},attrs:{rows:"5",cols:"138",type:"text"},domProps:{value:t.improve},on:{input:function(a){a.target.composing||(t.improve=a.target.value)}}})]),s("md-button",{staticClass:"btn md-raised md-info",attrs:{title:"Assign tasks to be carried out"},on:{click:function(a){t.toggle=!t.toggle}}},[t._v("Action Plans")]),s("md-button",{staticClass:"btn md-raised md-success",attrs:{title:"Upload maximum of 5 images"},on:{click:function(a){t.image=!t.image}}},[t._v("Upload Image(s)")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}]},[s("h5",{staticClass:"subtitle"},[t._v("\n                  Assign Tasks on things that need improvement / Correction\n                ")]),s("table",{staticClass:"table table-bordered"},[s("thead",[s("th",[t._v("Project/Task")]),s("th",[t._v("Assigned To")]),s("th",[t._v("Due Date")])]),s("tbody",[s("tr",[s("td",{attrs:{id:"24","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"25","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task1",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task1,callback:function(a){t.$set(t.tasks,"task1",a)},expression:"tasks.task1"}})],1),s("td",{attrs:{id:"26","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate1",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"28","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"29","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task2",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task2,callback:function(a){t.$set(t.tasks,"task2",a)},expression:"tasks.task2"}})],1),s("td",{attrs:{id:"30","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate2",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"32","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"33","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task3",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task3,callback:function(a){t.$set(t.tasks,"task3",a)},expression:"tasks.task3"}})],1),s("td",{attrs:{id:"34","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate3",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"36","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"37","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task4",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task4,callback:function(a){t.$set(t.tasks,"task4",a)},expression:"tasks.task4"}})],1),s("td",{attrs:{id:"38","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate4",type:"date",name:""}})])]),s("tr",[s("td",{attrs:{id:"40","data-name":"task"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Fill Project/Task Title",name:""}})]),s("td",{attrs:{id:"41","data-name":"assignedTo"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"task5",type:"hidden",name:""}}),s("v-select",{staticClass:"form-control",attrs:{options:t.all_users,label:"name",reduce:function(t){return t.name}},model:{value:t.tasks.task5,callback:function(a){t.$set(t.tasks,"task5",a)},expression:"tasks.task5"}})],1),s("td",{attrs:{id:"42","data-name":"dueDate"}},[s("label",{staticClass:"label",attrs:{for:""}}),s("input",{staticClass:"form-control",attrs:{id:"taskdate5",type:"date",name:""}})])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.image,expression:"image"}]},[s("div",{staticStyle:{display:"flex"},attrs:{id:"imgprv"}},t._l(t.images,(function(a,e){return s("div",{key:e,staticStyle:{position:"relative"}},[s("span",{staticClass:" text-danger ",staticStyle:{right:"2px",position:"absolute","padding-top":"2px","border-radius":"50%","font-weight":"bold",height:"25px",top:"2px",width:"25px","text-align":"center","background-color":"rgba(255, 255, 255, 0.6)"},attrs:{title:"remove image"},on:{click:function(a){return t.removeImage(e)}}},[t._v("x")]),s("img",{attrs:{height:100,width:100,src:a.image}})])})),0),s("div",[s("small",{staticClass:"text-warning"},[t._v("* Maximum of 5 images")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Maximum of 10MB image size")]),s("br"),s("small",{staticClass:"text-warning"},[t._v("* Only JPEG, JPG and PNG allowed\n                  ")]),s("input",{staticClass:"form-control",attrs:{accept:"image/jpg, image/jpeg, image/png",id:"img_url",type:"file"},on:{change:t.onFileChange}})])]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn md-raised md-warning text-white btn-warning ",staticStyle:{"margin-bottom":"10px"},on:{click:t.checkForm}},[t._v("\n                  Save\n                ")])])],1)])])],1)],1)])])},_s=[];function xs(t,a){var s;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=ws(t))||a&&t&&"number"===typeof t.length){s&&(t=s);var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}}}function ws(t,a){if(t){if("string"===typeof t)return Ss(t,a);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ss(t,a):void 0}}function Ss(t,a){(null==a||a>t.length)&&(a=t.length);for(var s=0,e=new Array(a);s<a;s++)e[s]=t[s];return e}var As={components:{vSelect:pt.a},data:function(){return{store_id:"",username:"",stores:[],store:"",store_manager:"",o365_users:[],managers:[],all_users:[],tasks:{task1:" ",task2:" ",task3:" ",task4:" ",task5:" "},toggle:!1,image:!1,images:[],well:"",improve:"",form:{section_name:"Night Time Visitation",section_type:"NI",scoring_type:"scoring",total_point:"",total_percent:"",taskplanner:[],image1:"",image2:"",image3:"",image4:"",image5:""},myMSALObj:null,msalConfig:{auth:{clientId:"0130e8b2-3895-48a0-aaf5-69d3f69ad855",authority:"https://login.microsoftonline.com/ce18dbbe-5ce8-4dac-bbcc-874dba4c0a40"}}}},beforeMount:function(){this.myMSALObj=new Msal.UserAgentApplication(this.msalConfig),this.getTokenPopupAndCallMSGraph2()},mounted:function(){this.getStores(),this.username=this.$store.getters.user;var t=new Date,a=t.getDate(),s=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),s<10&&(s="0"+s),t=e+"-"+s+"-"+a,document.getElementById("taskdate1").setAttribute("min",t),document.getElementById("taskdate2").setAttribute("min",t),document.getElementById("taskdate3").setAttribute("min",t),document.getElementById("taskdate4").setAttribute("min",t),document.getElementById("taskdate5").setAttribute("min",t)},watch:{store_id:function(t){var a=this;this.form.store_id=t,this.store_manager="",this.stores.forEach((function(s){s.id===t&&(a.managers=s.admins)})),this.store=t},"tasks.task1":function(t){document.getElementById("task1").value=t},"tasks.task2":function(t){document.getElementById("task2").value=t},"tasks.task3":function(t){document.getElementById("task3").value=t},"tasks.task4":function(t){document.getElementById("task4").value=t},"tasks.task5":function(t){document.getElementById("task5").value=t}},methods:{checkForm:function(){var t,a=document.getElementsByClassName("form-check-inline"),s=0,e=xs(a);try{for(e.s();!(t=e.n()).done;){var i=t.value,r="";i=i.querySelectorAll("input");var n,o=xs(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.checked){r="filled",console.log("filled");break}}}catch(c){o.e(c)}finally{o.f()}if("filled"!==r){alert("Fill all fields!!!");break}s++}}catch(c){e.e(c)}finally{e.f()}s===a.length&&this.submitForm()},genQuestionAnswers:function(){var t=0,a=[];document.querySelectorAll(".md-raised").forEach((function(s){s.querySelectorAll("input").forEach((function(e){(s.type="radio")&&e.checked&&(console.log("boom"),a.push({questionno:++t,questiontext:s.getElementsByTagName("p")[0].innerHTML,answer:e.value}))}))})),a.push({questionno:++t,questiontext:"Top 5 things the store did well",answer:this.well}),a.push({questionno:++t,questiontext:"5 things the Store needs to improve on",answer:this.improve}),this.form.question_answer=a,this.form.username=this.username,this.form.store_manager=this.store_manager},submitForm:function(){var t=this;this.genQuestionAnswers();var a=0,s=[],e=0;document.querySelectorAll("input").forEach((function(t,s){t.checked&&(a+=parseInt(t.value),e+=5)})),this.form.total_point=a,this.form.total_percent=a/e*100,this.form.possible_points=e;var i=[];document.querySelectorAll(".question").forEach((function(t){var a,s=t.id,e=t.dataset.name.replace(/\n/g," ");a="div"==t.childNodes[1].localName?t.childNodes[1].childNodes[0].value:t.childNodes[2].value,i.push({questionno:s,questiontext:e,answer:a})}));this.form.question=i,document.querySelectorAll("[data-name='assignedTo']").forEach((function(a,e){var i,r,n,o,l=e;a.childNodes[1].value&&(t.o365_users.forEach((function(t){t.displayName==a.childNodes[1].value&&(r=t.id,n=t.displayName)})),document.querySelectorAll("[data-name='task']").forEach((function(t,a){l==a&&(i=t.childNodes[1].value)})),document.querySelectorAll("[data-name='dueDate']").forEach((function(t,a){l==a&&(o=t.childNodes[1].value)})),s.push({task:i,assignedto:n,status:"pending",due_date:o,store_id:t.form.store_id,user_id:r}))})),this.form.taskplanner=s;var r=0;for(r=0;r<s.length;r++){var n=s[r];if(""==n.task||""==n.due_date||""==n.assignedto)return void this.$swal.fire("Error","Check your task planner details for any unfilled adjacent columns","error")}s.forEach((function(a){var s={planId:"iciLfcUe4keB_41IBcpwJWUAHkh2",title:a.task,dueDateTime:a.due_date,assignments:{}};s.assignments[a.user_id]={"@odata.type":"#microsoft.graph.plannerAssignment",orderHint:" !"},t.acquireTokenPopupAndCallMSGraph(JSON.stringify(s))})),void 0==this.images[0]&&(this.images[0]={image:""}),void 0==this.images[1]&&(this.images[1]={image:""}),void 0==this.images[2]&&(this.images[2]={image:""}),void 0==this.images[3]&&(this.images[3]={image:""}),void 0==this.images[4]&&(this.images[4]={image:""}),this.form.image1=this.images[0]["image"],this.form.image2=this.images[1]["image"],this.form.image3=this.images[2]["image"],this.form.image4=this.images[3]["image"],this.form.image5=this.images[4]["image"],console.log(this.form),this.postForm()},postForm:function(){var t=this,a='<img src="https://freefrontend.com/assets/img/css-loaders/css-fun-Little-loader.gif"/>';this.$swal.fire({title:"Processing",html:a,showConfirmButton:!1,showCancelButton:!1,width:"380px",allowOutsideClick:!1});var s={what:"submitForm",data:this.form};this.$socket.makePostRequest(s).then((function(a){console.log(a.data.message),t.$swal.fire("Success",a.data.message,"success")})).catch((function(a){t.$swal.fire("Error",a.message,"error"),t.form.question_answer=[]}))},onFileChange:function(t){if(this.images.length>4)this.$swal.fire("Warning","Maximum of 5 images allowed","warning");else{var a=t.target.files||t.dataTransfer.files;if(a.length){var s=(a[0].size/1048576).toFixed(2);s<=10?this.createImage(a):this.$swal.fire("Warning","Maximum image size allowed is 10MB","warning")}}},createImage:function(t){for(var a=this,s=0;s<t.length;s++){new Image;var e=new FileReader;e.onload=function(t){var s={image:t.target.result};a.images.push(s)},e.readAsDataURL(t[s])}},removeImage:function(t){this.images.splice(t,1)},acquireTokenPopupAndCallMSGraph:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{s=this.$store.getters.msalToken,this.callMSGraphPost("https://graph.microsoft.com/v1.0/planner/tasks",s.accessToken,a,(function(t){}))}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),getTokenPopupAndCallMSGraph2:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={scopes:["groupMember.read.all"]},t.prev=1,t.next=4,this.myMSALObj.acquireTokenSilent(a);case 4:s=t.sent,this.callMSGraphGet("https://graph.microsoft.com/v1.0/groups/5d66bed8-adaa-45f3-8db6-a25148b5171b/members",s.accessToken,this.userAPICallback),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function a(){return t.apply(this,arguments)}return a}(),userAPICallback:function(t){this.o365_users=t.value;var a=this;this.o365_users.forEach((function(t){a.all_users.push({name:t.displayName})}))},callMSGraphGet:function(t,a,s){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},e.open("GET",t,!0),e.setRequestHeader("Authorization","Bearer "+a),e.send()},callMSGraphPost:function(t,a,s,e){var i={headers:{Authorization:"Bearer "+a,"Content-type":"application/json"}},r=t;this.$axios.post(r,s,i).then((function(t){})).catch((function(t){console.log(t)}))},getStores:function(){var t=this,a={what:"stores"};this.$socket.makeGetRequest(a).then((function(a){t.stores=a.data;var s=t.$store.getters.store;t.store=s.id})).catch((function(t){console.log(t)}))}}},Es=As,Ts=(s("b0a5"),Object(c["a"])(Es,bs,_s,!1,null,"495722e8",null)),qs=Ts.exports,Ms=[{path:"/",name:"Index",component:et,meta:{public:!0,onlyWhenLoggedOut:!0}},{path:"/audit",component:X,children:[{path:"home",name:"Home",component:ct},{path:"exterior",name:"Store Exterior",component:yt},{path:"merchandise",name:"Merchandise",component:qt},{path:"production",name:"Production",component:Ot},{path:"checkout",name:"Checkout",component:Wt},{path:"instore_displays",name:"In-store Displays",component:sa},{path:"warehouse",name:"Warehouse",component:ma},{path:"staff",name:"Staff",component:ya},{path:"opportunities",name:"Opportunities",component:qa},{path:"competition",name:"Competition",component:Oa},{path:"general",name:"General",component:Wa},{path:"loss_prevention",name:"Loss Prevention",component:ss},{path:"store_opening",name:"Store Opening",component:ms},{path:"store_closing",name:"Store Closing",component:ys},{path:"night_time",name:"Night Time Visitation",component:qs}]}],Is=Ms,Ns=s("c7db"),Ps={install:function(t){t.directive("click-outside",Ns["directive"])}},$s=Ps,js=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"sidebar",style:t.sidebarStyle,attrs:{"data-color":t.activeColor,"data-image":t.backgroundImage}},[s("div",{staticClass:"logo"},[s("a",{staticClass:"simple-text logo-mini",attrs:{href:"#"}},[s("div",{staticClass:"logo-img"},[s("img",{attrs:{src:t.imgLogo,alt:""}})])]),s("a",{staticClass:"simple-text logo-normal",attrs:{href:"/"}},[t._v("\n      "+t._s(t.title)+"\n    ")]),s("p",{staticStyle:{"font-size":"13px","margin-top":"-2px","font-family":"cursive"}},[t._v("\n      "+t._s(t.subtitle)+"\n    ")])]),s("div",{staticClass:"sidebar-wrapper"},[t._t("content"),s("md-list",{staticClass:"nav"},[t._t("default",t._l(t.sidebarLinks,(function(t,a){return s("sidebar-link",{key:t.name+a,attrs:{to:t.path,link:t}})})))],2)],2)])},Bs=[],Fs=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",{staticClass:"md-list-item"},[s("router-link",t._b({staticClass:"md-list-item-router md-list-item-container md-button-clean",on:{click:t.hideSidebar}},"router-link",t.$attrs,!1),[s("div",{staticClass:"md-list-item-content md-ripple"},[t._t("default",[s("md-icon",[t._v(t._s(t.link.icon))]),s("p",[t._v(t._s(t.link.name))])])],2)])],1)},Os=[],Ds={inject:{autoClose:{default:!0}},props:{link:{type:[String,Object],default:function(){return{name:"",path:"",icon:""}}},tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},Gs=Ds,Rs=Object(c["a"])(Gs,Fs,Os,!1,null,null,null),Ls=Rs.exports,Us={components:{SidebarLink:Ls},props:{title:{type:String,default:"QA/QC Forms"},subtitle:{type:String,default:"Fill forms"},backgroundImage:{type:String,default:s("eb9e")},imgLogo:{type:String,default:s("68e9")},activeColor:{type:String,default:"orange",validator:function(t){var a=["","purple","blue","green","orange","red"];return-1!==a.indexOf(t)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose}},computed:{sidebarStyle:function(){return{backgroundImage:"url(".concat(this.backgroundImage,")")}}}},zs=Us,Hs=(s("0efd"),Object(c["a"])(zs,js,Bs,!1,null,null,null)),Js=Hs.exports,Ws={showSidebar:!1,displaySidebar:function(t){this.showSidebar=t}},Ys={install:function(t){t.mixin({data:function(){return{sidebarStore:Ws}}}),Object.defineProperty(t.prototype,"$sidebar",{get:function(){return this.$root.sidebarStore}}),t.component("side-bar",Js),t.component("sidebar-link",Ls)}},Qs=Ys,Xs=s("43f9"),Ks=s.n(Xs),Vs=(s("51de"),s("9e17"),s("54ba"),{install:function(t){t.use(Qs),t.use(Ks.a)}}),Zs=s("ba48"),te=s.n(Zs),ae=new i["a"]({mode:"history",base:"/",routes:Is,scrollBehavior:function(t,a,s){return{x:0,y:0}},linkExactActiveClass:"nav-item active"});e["default"].prototype.$Chartist=te.a,e["default"].prototype.$socket=y,e["default"].prototype.$swal=f.a,e["default"].prototype.$axios=C.a,ae.beforeEach((function(t,a,s){var e=t.matched.some((function(t){return t.meta.public})),i=(t.matched.some((function(t){return t.meta.onlyWhenLoggedOut})),h.getters.isLoggedIn);if(!e&&!i)return s({path:"/",query:{redirect:t.fullPath}});s()})),e["default"].use(i["a"]),e["default"].use(Vs),e["default"].use($s),new e["default"]({el:"#app",render:function(t){return t(m)},router:ae,store:h,data:{Chartist:te.a}})},"59d1":function(t,a,s){"use strict";s("6929")},"5f0b":function(t,a,s){"use strict";s("49d3")},"64a7":function(t,a,s){},"64a9":function(t,a,s){},"65da":function(t,a,s){"use strict";s("22d7")},6767:function(t,a,s){},"68e9":function(t,a,s){t.exports=s.p+"img/sundry-logo.ed93f27a.png"},6929:function(t,a,s){},"716f":function(t,a,s){},"7e20":function(t,a,s){},8041:function(t,a,s){"use strict";s("64a7")},"83fa":function(t,a,s){"use strict";s("fd61")},9858:function(t,a,s){},"9e17":function(t,a,s){},b0a5:function(t,a,s){"use strict";s("7e20")},c576:function(t,a,s){},c6c3:function(t,a,s){},cc33:function(t,a,s){},cd0d:function(t,a,s){"use strict";s("364c")},e493:function(t,a,s){"use strict";s("9858")},eb9e:function(t,a,s){t.exports=s.p+"img/sidebar-4.3b7e38ed.jpg"},f36d:function(t,a,s){},f511:function(t,a,s){"use strict";s("c6c3")},f6e1:function(t,a,s){"use strict";s("2a2a")},fd61:function(t,a,s){}});
//# sourceMappingURL=app.651c7342.js.map